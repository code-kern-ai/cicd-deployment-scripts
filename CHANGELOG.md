# Changelog

## 1.0.0 (2024-07-31)


### Features

* add arch image tag matrix to az_acr_push ([e61659b](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/e61659b2b440a7c8932e143066d2ede92ebb75cd))
* add deploy success assertion ([f395877](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/f395877e8191c43d3f51d744b0fe95b8ba70c385))
* add docker_build_test and py_release ([c3c26b3](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/c3c26b37255074039810564ffaeddb731ab30040))
* add helm_release workflow ([cbced0f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/cbced0ff3f736eac2863736aaef51826a2bc6907))
* add test tag input to az_acr_push ([961e21e](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/961e21ed49606f38062a8f030aa505d91a049fe8))
* add timeout-minutes: 5 to k8s_deploy ([02b05bf](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/02b05bf168761ed628c43edf7cd6c0938209718b))
* align repo to self hosted runners ([de768ad](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/de768ad4f910287985e0d4501b7d624a83a48f58))
* azcopy login ([4472e35](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/4472e35af4a53d440ffd41c64cd06986706ee01f))
* Azure Function App deployment workflow ([f53fef2](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/f53fef296a4f6755efd92e758529a02c6f452488))
* **ci:** add migration workflows ([3ff127f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/3ff127fcccf101445fe516ab4e6210ecf5efd734))
* **ci:** db migrations ([4603064](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/46030642898b1704a4e11cf7f8582e671dac43d2))
* **ci:** deployment restart workflow ([c376b3a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/c376b3a4d198bd34909d9cb7c59bd543a7b5d0c9))
* db_rollback workflow ([45ce22a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/45ce22a974c9ee7382de5d2e15a9811cddc9c60c))
* introduce k8s edit ([a7d6ed9](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a7d6ed9102a39ad4f1182105bffdd45cc6ffc433))
* introduce K8s test ([6ae7483](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/6ae74830016f04d0505af99b74a7d0d7b2d073b6))
* k8_cluster_destroy workflow ([673f0e8](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/673f0e8d98d86df7f8e8b6d063d200d0517c6584))
* update k8s_release to use k8s_edit ([b289a0f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b289a0f9a449f65e32065487751f3353d6c5084c))
* update release-please owner ([cd5aa6c](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/cd5aa6c58deb27ee8833259ee0f4821fd7ca39f1))
* use explicit kubectl apply ([5699b19](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/5699b193897d5256b588b60358452ab854325662))


### Bug Fixes

* $GITHUB_REF_NAME to ${{ github.ref_name }} ([1c45793](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/1c45793fab67c412873f5afea13a15ada9881314))
* add -c flag to k8s/test.sh ([41170d8](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/41170d89107262a369c30eb690bd2629c566d238))
* add GH_TOKEN env ([f721606](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/f721606199611d6eda338ed042040b997306fbc5))
* add id-token write permissions ([6db07a3](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/6db07a3b26839b2e725d2d3fce8c7b65f6840b89))
* add macos-14 arm64 runner ([81e65a7](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/81e65a71778badf83437e42f51e6cc3c1264cf3a))
* add platforms arg to docker/build-push-action ([d1e8254](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/d1e82547d794828b2eb0854c032190c82fbc357e))
* add support for head_ref deletion ([5558b59](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/5558b59ea1cd444b2ac798bc558222ce420161db))
* add token based gh auth to setup-opentofu ([b3dd44d](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b3dd44da1d4cc8732f5e15c3f7c7e5bef4e52e65))
* add token based gh auth to setup-opentofu ([5a04228](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/5a04228fd358f96b399dc25b5a2e9974f3e9eced))
* add token based gh auth to setup-opentofu ([73853eb](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/73853eb4ab149b16eca5ae8559e6db3aaae2020d))
* add token to gh-delete-branch ([a3d1398](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a3d13989ad3c863d3a5e91bcc93a872630a056fc))
* align CI/CD scripts to Visio diagrams ([aff5508](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/aff5508817044a0486ad0fe21ccfec5f67c18b9b))
* apply alembic migration in k8s/test.sh ([d7a2859](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/d7a285955c8c8f50cb3c30f276676f843b4607b4))
* az acr repository delete --yes ([30490c2](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/30490c243b4feb87f27d5514584456518f274e29))
* azcopy login using tenant-id ([169a0f2](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/169a0f24194c0aa3051d5a27c4e4eb2bbab0690f))
* backend-config key path ([777858c](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/777858c840f461fb9c358ef7250db8356c00dc0c))
* bash if semantic update in db-migration-wait ([efc6bc3](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/efc6bc36110e846a9984f2360dc5d2fba6170c83))
* bash if semantic update in db-migration-wait ([3407b52](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/3407b523f6be606568c0be15384df96fb39cf45e))
* bash if semantic update in db-migration-wait ([955f8e0](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/955f8e0c25bf629abda314ba3c1b397127e6259f))
* boolean checks via strings ([072a342](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/072a342aa1f180d6c08d069c2c394be34831e3d3))
* change charts_dir to src ([76d24e3](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/76d24e3db72dbcac935d6f3b51ba55265d9bb959))
* change input parameter type to string ([5340af6](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/5340af6f5826ec3573b188a095190cf3cc76bed3))
* checkout app repo instead of K8 cluster repo ([7789ba5](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/7789ba5f9ed5b58f07f16fb2c57c7326a156be2e))
* checkout cluster repo ([a96d9bd](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a96d9bdfe1bd61f4560f2e7e4c26b72c14680e77))
* checkout cluster repo ([3099a42](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/3099a42ef77b9680a8aefff8bb7809bd5c073e61))
* checkout cluster repo ([bd5dedd](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/bd5deddfaec18f5b203d2a94025a9997d9a45019))
* **ci:** artifact name and path ([839e5fd](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/839e5fdde50352ee6cb53620f25301f20067063d))
* **ci:** artifact name and path ([2e59f53](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/2e59f537845a442f53f638001ba3fcbac47d81ac))
* **ci:** docker test load image ([eebf49a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/eebf49a7797e9a1350c4c7341cf613e46c29377a))
* **ci:** docker test needs docker build ([6159ad7](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/6159ad7b2bb04040bcd3f7db807b8eff6e15a419))
* **ci:** download artifact name ([ef18983](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ef18983d5cfdb038da1db545455a3d03d9d25c68))
* **ci:** inputs instead of github.event.inputs ([df53926](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/df53926f7ffadbd2586f427c7a4b41a31bc9238a))
* clone cicd-deployment-scripts before using their scripts ([2b6110f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/2b6110f54ff87addda7188fcf0bf2c6dc3c33d16))
* command syntax ([4657a34](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/4657a344616038240d7869765d35886e23057db3))
* command syntax ([74c18a3](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/74c18a321e472b33040a820a55f0e61ff8f88676))
* config branch name for az_acr_delete ([a29667f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a29667f586a8c96501b090ecde22393bc0d3c4d6))
* configure delete tag name ([96bc0ff](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/96bc0ff6e2d173da2f9dace8c98176b01d2397d5))
* configure github user ([a3c52a4](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a3c52a41180a2a582ba360954373b03aa70c01e1))
* configure github user ([0789b0d](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/0789b0dbe04547848c6ea71f097f6c280eb77315))
* db migrate environment name ([d187164](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/d18716411313fd2821fd5d4cd5aa6227750c7d3a))
* db upgrade wait conditions ([a019bad](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a019bad53f77709ce5676a4fa3ae85810d19a42d))
* delete ACR image after successful tests ([29a4f43](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/29a4f43011da90c37124584b003472cf13e95d1b))
* deploy success assertion ([512adeb](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/512adebd9b52b7ad835e132c16784b6bfff93411))
* deploy success assertion ([56ce8ae](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/56ce8aea04615341b7618e939fa4ab6b37ba8e68))
* deploy success assertion ([9a68330](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9a683302e0582501cd9e1cb942ae3cefce889c37))
* destroy all resources but caddy ([ad29de1](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ad29de1c42f143d1f59fa61dd3c651a6d703fb1a))
* destroy script name ([70ab79f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/70ab79f60f7442f08927fbfc4a9e840e659f06a8))
* docker platform param for arm64/v8 ([efc5708](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/efc57080951764ca6674c6a2cd29cc55c2871eec))
* dynamic environment ([eb91ea0](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/eb91ea06537af27bf1f066ac024093621309fcc0))
* environment name for exec_env_pulls ([d7075c5](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/d7075c51d688924630c1709fd116570ac6c986ad))
* forward test_cmd input to test.sh as string ([00ce376](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/00ce3767ce59d09aabae1f2e9efbf3dcaac4ad7d))
* gh-delete-branch if criteria ([0c07c95](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/0c07c9577830582ec249a4a285df0383b5d69241))
* handle missing refinery-gateway image tag failure exit ([d244157](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/d244157d11ddb7ea22230a8aff624a7e8bfb5e08))
* handle workflow cancelled ([7e3afaf](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/7e3afaf7dd3dd35e31bbc0d3ab25e68bbfa64cde))
* head ref name ([985817b](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/985817bda6f4db6f1c3b2bedee927dcc9adae062))
* identify refinery-gateway test image exists in test.sh ([7545288](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/7545288f053a8e0c3477dfafc5e4d736605ca28b))
* identify refinery-gateway test image exists in test.sh ([9afd581](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9afd58134227c8113188046a034d44856c39bd00))
* if expression syntax ([c9f09cd](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/c9f09cd9f5b30f7d1eba2ebdcabae3f303b21222))
* if syntax error in k8s_test ([ed1703c](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ed1703c7e5a51313eca88f98c635a6274372896e))
* image tag exists detection ([84e4865](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/84e486542ee256c05987102ace30f242baefbbd3))
* install colordiff as sudo ([b0905eb](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b0905eb4b51b44d1b4ec1fa4d5b2a91f694c95b0))
* k8 destroy by namespace ([b6894d2](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b6894d2f46204a793a94cec16d9bbb9899e14f52))
* k8-cluster/destroy.sh params ([cd5565d](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/cd5565d1baeb1a0fdf095a26c213fc6f1cfe641a))
* k8-db-downgrade environment name ([72cbee0](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/72cbee0ee850c8750ff9093c190f2c58241448a8))
* k8-db-downgrade if criteria ([07efbf6](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/07efbf6656912bacbca6e8402d5730989155ef62))
* k8-db-upgrade input variable name ([cec25b6](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/cec25b6e8d48e3c37601d8af2083ef45f48e9965))
* K8: Edit notice message ([b1567dc](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b1567dc604b4649e70e58511c003ea7013831202))
* k8s deploy and test ([3bddc71](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/3bddc71963decb8ee09efdfa1e67b15e8a48ea0c))
* k8s_apply environment ([543640b](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/543640b78b06e0dd9e494a2acb57f4848724aa39))
* k8s_apply remove dry_run ([10cc5aa](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/10cc5aa3491f09efd39a6f969d8d208a18c6cbe8))
* k8s_edit after git checkout automated-release branch ([c926e03](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/c926e03cd2301038df4f9ae93333e28a7c764719))
* k8s_edit image tag replacement ([ef10a70](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ef10a7055e2b237c15c45aacf4f2de275377dcc6))
* k8s_edit tag replacement ([f1431ad](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/f1431add0b295dabda5cc910e45e5e4c4d64b6ff))
* kubectl diff exit code ([498ac54](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/498ac54f915190339be8e4d4b3198a446f631d2a))
* kubectl diff exit code ([a03fbe0](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a03fbe03c8f2f8b3457958e9d9e4885d5e15192f))
* make helm_release callabla callable workflow ([3a1b973](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/3a1b973813f3eda20313e077781c069157a4979e))
* make k8-test wait for call-gh-wait-workflow ([fe277d7](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/fe277d76fe034473ce70546338b82d7c08a30ef2))
* modify az_acr_push image builds ([8b5e0cb](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/8b5e0cb9e7ea64bc34753d4a6a07822a67ffffad))
* only run az fnapp deploy on PR merged ([0f60606](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/0f6060694d78140f3eb795cfd07dddf49ca750ae))
* path to requirements ([3efe26b](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/3efe26b25f5686fcc6835057eb4084bd2f38169f))
* PR creation on k8s_edit ([05e6058](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/05e60584fb31c7ff33fbf934554a2e01b13837f4))
* refinery image tag lookup ([51ce563](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/51ce5631a6ed2f8ae7c0ce677fa9031f7e008bc5))
* regex check ([c0f2aeb](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/c0f2aeb5eb97c293238bac91c7c25c7fb8f25a62))
* regex check ([60eb6c3](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/60eb6c3558721e5d302a4b3ee3264714e07c7ab8))
* regex check ([cd7f6f4](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/cd7f6f43cd1f96747d768c8dc50bc1b369eef915))
* regex check ([d534002](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/d534002aa7508bb056ed13d0405a70157dd1ea82))
* regex check ([714d045](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/714d0451da984a63d845e374f48974fa6404ced7))
* release workflow updates ([188d0ce](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/188d0ce5a797b83a835baaa7adf24b371db68c9f))
* remove double git clone ([e003574](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/e00357484c32acd4a523060d368307840e7c60f0))
* remove generate_jwks input ([4ee862e](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/4ee862ec64f05e74eecdaa6d8d86ac933e780dbd))
* remove if expression ([4fa7938](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/4fa7938b58d9ff690e7415f7248ce94f5ed90c8b))
* remove token based gh auth ([36d4bbe](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/36d4bbe6986abac960b8b984c3b849b286842ac1))
* remove workflow-exec-env from docker_pulls ([3edef1a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/3edef1a97a5950aaf7488d15aa206d1cd9f06a13))
* rename db_rollback workflow ([7986c9a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/7986c9a27c27b9d6c85663817ef5ca98962aeaae))
* rename github.action to github.event_name ([0ccb542](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/0ccb542ed46e95d4706088c64894d81ad39ceb14))
* requirements path ([b38eef0](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b38eef0b398bff0fa3e015a73174affbd47ba9c0))
* revert azcopy changes ([2f3d93d](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/2f3d93d6f64a24273767092eee37ff75ac893e60))
* revert dev ahrelja changes ([2c76721](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/2c767213167d41e91630e29691833a083c272db4))
* run K8: Edit on self-hosted ([9cfd7a8](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9cfd7a80039ee226c48fed1f80a0b4f3b58fbfa1))
* sed ${{ github.ref_name }} ([d493b5d](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/d493b5d2ee2bfb99d519d737cd96591e87dfb34b))
* sed expression ([103a885](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/103a885a1768f366a7e244935ee61db58eeb927c))
* set-context inside scripts ([cb30105](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/cb3010513b217452b6f5509255e402d66199fdd3))
* skip arm64 gpu builds ([7c1965a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/7c1965a8b079d95559d95362277440e473245e78))
* skip db upgrade if tag doesn't exist ([30709d9](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/30709d9373715d91459cc46bb5394fdc05cea294))
* skip deployment rollout on db-upgrade and downgrade ([2eeb2e9](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/2eeb2e97eb6eacb5cda7d9826e5c308669aab6d8))
* skip failing on test image deletion ([cd03827](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/cd03827e0521cd0b20afd79283f600296ebb7122))
* skip running downgrade on cancelled ([9150e01](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9150e010e40762cfea14bd87dd908facdd11a94b))
* skip running test on cancelled ([668cbe8](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/668cbe8b1e0d1eb428e264b46dc6d4817bc46e8a))
* skip waiting when no workflows are running ([f73b88f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/f73b88f2774227854fde79e81970fde2d04b14e5))
* source env secrets# ([b69623f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b69623f30949d626f8fe59ff6e6982844678e00e))
* step name syntax error ([6eb5ebc](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/6eb5ebc88b010b919b19c4d7ed86424227aeb951))
* support for multiple running k8-test workflows ([5f324b1](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/5f324b1a31be12eb846284ef661d323a191f32ca))
* syntax error in k8s/test.sh ([cfbb85f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/cfbb85f580e60efad7a6b7b572c22647cc526c94))
* tag name on dev deployments ([05a6891](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/05a6891257e3109c2a8c3e5489cd241d1870a40a))
* test script ([ca82fff](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ca82fffc5bc92973d3c6f380a4a3c738ae7e70b9))
* test script to wait until pod is ready ([4f7dede](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/4f7dede975d2077b122ccef6864bedb1c824ac32))
* test script wait for rollout ([1f225fc](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/1f225fcf8dfc6daee08035b9e25465a6f4439d0e))
* test.sh test image upgrade and downgrade ([f264995](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/f264995b79eb52a7c5e3bc5ed2ef0cf2a61a1403))
* toJSON function name syntax ([1e40270](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/1e40270dbc640ed3a1ddcf8d4f1fbf6064c0782a))
* update environment name in db migrate ([5c8c71e](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/5c8c71ee8affb484f3ee4cbc00a8ef44adbac653))
* update matrix.platform on arm64/v8 ([999be14](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/999be1494d3823c8c11e7744f1eb61db19f509ab))
* update test script ([60860ea](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/60860ea2d1bc7e10ad5d5d372ba33ad7b197e5a6))
* update toJSON -&gt; fromJSON ([752dd94](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/752dd944136d571cbf9912d19d97e1f2fcd2f078))
* use arm64/v8 in az_acr_push ([9e5b5c1](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9e5b5c18d2183f7943de3a314fd83cf0ff96bdd5))
* use default charts_dir ([981913e](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/981913ec9dbbd41a66576aae0a1d45b1f6cbf71e))
* use environment vars instead of secrets ([941fc1d](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/941fc1d9ff87a835ce555fd24892e0272f751c69))
* use QEMU emulator ([9946312](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9946312b475024c9175440dbf9212b460e9a42ea))
* wait for deployment rollout instead of pod status ([1b5e123](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/1b5e123ed80fa64ffca324295b91511de7543393))


### Performance Improvements

* add :latest tag to prod deployments ([0be5658](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/0be5658fa6a430eaed151bbd15c8445ffcb98251))
* add arm64 support to az_acr_release ([231f97a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/231f97ad2aa6e04cbda6f244cce2958fa06708dc))
* add azcopy remove commands ([e536a83](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/e536a83bb9e93cab1f11e4e67095876b57070c4e))
* add docker driver to setup-buildx-action ([a210b42](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a210b421a2b95eb1d132812a1e7310fe8cbccec4))
* add gh-db-migration-wait workflow ([6ee8f75](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/6ee8f7522117c88900ced4c01ea3db9a6e0384e6))
* add gh-db-migration-wait workflow ([367d3d9](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/367d3d9f07cb3932577ff23217616c12a4be0733))
* add gh-delete-branch ([b7f50e7](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b7f50e77c1ce54b04ef5bca75b5fed1779471b93))
* add github configuration step ([a6aa9fd](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a6aa9fd8d5b1f1355500d828cad7d9d01f3cbf82))
* add hosted-inference-api to migration jobs ([c627b98](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/c627b98ad92c50b917b92f6b87b6b6e7f5f4c771))
* add jobs deletion to destroy.sh ([ec7225b](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ec7225bae9a1d666fd4a598cb524ae3982950524))
* add k8_apply workflow ([0ca45fc](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/0ca45fc4090237035f613c30b50ceadaa791f839))
* add k8s_restart workflow ([ae3eaf2](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ae3eaf220794da8879701bbf82e0b59c58dcbd39))
* add kustomization scripts ([d003b75](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/d003b7504fca927d3e0cd8112253d4afaed19dec))
* add outputs to tf_plan_apply ([3d95c02](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/3d95c02c71f461789bb4a3cf61ba143b8fa01c1b))
* add platform parameter to setup-docker-buildx ([41e77d1](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/41e77d1a880d7829ad94747bedac97605179a368))
* add PR creation to k8s_edit ([00aa308](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/00aa308a8f5adba7449dafb9ec7e3f9f493c00ee))
* add regex check for release tag name ([0055942](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/00559422fa31db58ae8fe245e36014d57d0e67c2))
* add registry.dev.kern.ai auth ([19ce9f7](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/19ce9f7f813d0d845bb453f93440c3956a712d6c))
* add support for Dockerfile.arm64 ([5fd3b65](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/5fd3b6570054d553b64de999660c4249e3b9135b))
* add tf module docs + release workflows ([30473d1](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/30473d124365a6a96a675f57d53fa39ccb09aa88))
* add TF_DESTROY support ([5d78fdc](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/5d78fdcc6bc4eaa6160f1d4cb44d9c4496a3d16b))
* alembic migrations ([9d3bae2](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9d3bae2608867717050d8d873548e6f6e11b14b0))
* align to one-by-one self hosted execution ([dfd7267](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/dfd72679e47c504345db6d7eb485011532f1ceee))
* always run db-downgrade ([41dff9b](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/41dff9b17d0f4b9c54f1c5a7701e5896ce29f667))
* azcopy remove exclude-paths ([6a50013](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/6a50013c63ef15ab19746d1c65a6b1d09afe0218))
* **ci:** add az acr push workflow ([851b4c2](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/851b4c2c41593c84691809e7802daec8af29a2ab))
* **ci:** parametrize Dockerfile location ([3d10483](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/3d10483f2ecb2bac38c5ee66375f67b723dea2f7))
* **ci:** use dynamic environment based on branch name ([9b1ff79](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9b1ff79abb273f17a86d4c7d285049bf18c405a7))
* delete ACR image after successful tests ([3964b69](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/3964b696e4e42c978280ebfe97d21a30d44ccb97))
* delete test branch on pr_close ([d11b5ae](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/d11b5ae9bb2a36ffd3a49cae9b6f46c7e0ad147b))
* differentiate between az_acr_push and az_acr_release ([b094833](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b094833c467f3d32b76d59eaaabe60b2614e581e))
* downgrade alembic on test failure ([ace7b36](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ace7b3606c7770575423e84ef63fdc36190224e4))
* dynamically resolve env in az fnapp deploy ([737cba3](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/737cba39beaa8608ccb3ef4e581e5fdb48b553d6))
* eliminate workflow-wait ([b2a35bf](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b2a35bf687259944ae7ebfaa0b8f65a4143f25b3))
* exclude caddy and docker from k8_cluster_destroy ([c524cd2](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/c524cd2bf8ff990e71783bb67fe7fbca82aeb7de))
* execute azcopy using az cli ([9a39354](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9a39354c0ea4061c4fcb86e5e63bcfc539b1e008))
* execute azcopy using az cli ([ad2ec8f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ad2ec8f0ecc1248c4478fd8ee2ad8acaa4830624))
* handle db migrations in test.sh ([636a5cf](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/636a5cf5470265bc52a7a17ad71be061b0b03cd7))
* ignore empty commits in k8s_edit ([a16e69d](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a16e69d0edf6267de2b147d54e46bea08988bac1))
* include QEMU for platform virtualization ([591efe7](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/591efe77dc136a191754022179bfcf09ccb8bcc0))
* include submodules to az workflows ([8342c8c](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/8342c8cc2bacfd2de2e40017ded70069dff7583c))
* install azcopy inline to az cli ([2110e63](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/2110e63c45969274905b4fc8eafe639781a0657d))
* install colordiff ([ae968ff](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ae968ffdbad8470ba0b34c1874cf93cb894fa1bb))
* introduce validate_release workflow ([184b004](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/184b00422999ee97d81efef4d3f1c8202788e840))
* k8 apply workflow ([e402bda](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/e402bdac98b6da432e70186f20af9b631ddf65fb))
* **k8-test:** only downgrade on failed test ([a7d09ed](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/a7d09ed3af48875b94bb5b82d4850b0e538287f6))
* **k8s_edit:** PR title ([5074c52](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/5074c52113a6582068b38d1f26705f95cd07da91))
* make exec_env_pull wait until docker deployment is available ([cd3730a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/cd3730a49c4f19c587c5a4aa7586ca3ff346c5c0))
* make KUBERNETES_CLUSTER_REPO_NAME env var ([741618d](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/741618d9aa5e7fc899fba2a89928b0f9b8b72bb2))
* move release operations into k8_deploy ([35f6755](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/35f6755a2951a5e443869a8b86df33cf78dc3ce2))
* only downgrade identified db migrations ([0da55c0](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/0da55c09e9e239e2c83725c53ca1fb71bbd1d37c))
* output GH_REF_NAME in az_acr_test ([60361b1](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/60361b130a2ad8002c7d3372484cd0e9e1ded277))
* parametrize runs-on for tf_plan_apply ([e00e63b](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/e00e63b667d85a527daf1267f9c2dad4ecfb1b6b))
* print db job logs ([24a6fae](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/24a6faeaca20880aba7ea3452eca68d4f874ed99))
* print kubectl apply changes only ([14bddc4](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/14bddc47b5a9b96978b959eb1a4849bdf067a0fe))
* publish tf plan on workflow_dispatch ([0230f01](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/0230f014ad3c9addf6c45c0836b62d1e6bba4958))
* push github.sha docker image tag ([7c09029](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/7c09029c18f4d41347a4841420521497170c23fa))
* remove helm_release workflow ([9beb2be](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9beb2be24a0ee850a4d6f36cd3824d153afa24bc))
* remove printing GITHUB_STEP_SUMMARY ([140adcd](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/140adcd5219285d09b61f6e06eafdd8a21c34152))
* remove tag from PR title ([ebbb009](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/ebbb0090520fcc9c40407bc1822089c95c7bd28b))
* remove tofu gh token based auth ([1cd0af0](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/1cd0af07bd2255a0b229b2501435b12f7963a051))
* rename db_migration_wait to wait_migration ([980152b](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/980152b6fed9e28445c16310e9c76981a2f935f6))
* rename tf_release ([f20473f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/f20473fa19d1015ac043ed793eca465cc7126aea))
* rename tf_release ([494ca10](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/494ca10f4803aa712ac5bbff7ab1045339d19f6d))
* rename workflows ([5d9772a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/5d9772a50036190586257fcb0f1b58f6227f1847))
* replace / characters in branch name ([e37f463](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/e37f463d9c7c2688e25a116bf63fba346d3b4a8a))
* replace / characters in branch name on k8s test ([0abefea](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/0abefeaaabaec7cfa4b935fb72db64455d4dae7c))
* replace / characters in branch name on k8s test ([b1ab28f](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b1ab28fbe983210ea36fb37482a0bd183fa57610))
* revert to k8s-deploy action ([67eba13](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/67eba13954031f9bbe8189e5add6b76a4ea4a5e3))
* run tf_plan_apply on PR merges ([dd42d7e](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/dd42d7ed713138d9dcabb82a5062a7fc613a50aa))
* set gh run watch interval to 10 instead of default 3 ([322b434](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/322b43442d2d58a99dffd516d9d54e39eb837839))
* silent colordiff install ([9510cc9](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9510cc94b012328204480ff207aa539746d06da4))
* skip explicitly running db upgrade and downgrade ([e557a15](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/e557a150b11711679869eadcdc94a330dec1aa5e))
* skip fnapp deploy on TF_DESTROY ([c785767](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/c785767f4d86cc4209da50dd8d962609e7e4be0c))
* skip gh-delete-branch on cancelled ([aeb9e59](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/aeb9e599222e976f2eec2281da12d64a5bb9f6c6))
* update ACR secret names ([9edb58a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9edb58a185511e16fb50bf37f5e7545949562015))
* update docker/build-push-action to v5 ([883e278](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/883e2783e32ca2c962629ba909627b9629486995))
* update inputs.runs_on default ([fc710aa](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/fc710aa0c591c19d3484965ad0126db3c691e5ee))
* update k8_apply --dry-run ([4097d3a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/4097d3a29d5018e09aef836a675c63a553b22ca2))
* update k8s_deploy to use more variables ([b7cb94d](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/b7cb94d4b208ec249c2d0e9c93cee096a619e9da))
* update permissions on k8s_test ([46ecd96](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/46ecd96289f3c9c02c7e49261ac8462712be86db))
* update PR title on k8s_edit ([9e5b5c1](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/9e5b5c18d2183f7943de3a314fd83cf0ff96bdd5))
* upload release assets ([d86a366](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/d86a366f7041c44bb268159bf50aae58492e8e0f))
* use alembic rev for db migrations instead of num ([e207216](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/e2072161cbb81be92b9cee5fb203718edabe92a5))
* use apply.sh ([c376b3a](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/c376b3a4d198bd34909d9cb7c59bd543a7b5d0c9))
* use deployment_status input for k8s_release ([e43fa3e](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/e43fa3e4a27da0e60e1bd1ab7313427593b0c5ab))
* use env vars to identify alembic migrations ([f4d5fec](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/f4d5fec9bb66c5607068fc192af724db70893df8))
* use multi-arch images ([4fce013](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/4fce013d095c5275f78900919b9cc86b0be47410))
* use ubuntu-latest for az fnapp deploy ([02d7a2d](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/02d7a2d7ba6f8515c45d21993614f36b8130021a))


### Reverts

* disable admin kubeconfig ([87cb816](https://github.com/code-kern-ai/cicd-deployment-scripts/commit/87cb81600e7924fc439a52f3b52cae9cfcdef44e))
